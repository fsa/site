---
layout: post
title: Миграция с FreeBSD на Linux
redirect_from:
  - /blog/freebsd-linux/
  - /2010/10/freebsd-linux.html
date: 2010-10-02 04:05:00 +0500
tags: [FreeBSD, Linux, Ubuntu]
excerpt: Заметка о переносе файлов из FreeBSD в Ubuntu с использованием внешнего HDD, тонкости процесса
---
Для миграции нужен внешний USB HDD достаточного размера для переноса нужной информации.

Дальше дело было так:

* Подключил внешний винт к USB
* Запустил утилиту sysinstall (моно было бы воспользоваться командой, но лень было искать). Создал слайс типа 131 (Linux)
* Устанавливаем /usr/ports/sysutils/e2fsprogs
* Форматируем винт под ext2: mke2fs /dev/da0s1 (da0 - это как раз тот самый внешний винт)
* Подгружаем модуль ядра kldload ext2fs
* Монтируем mount -t ext2fs /dev/da0s1 /mnt
* Заливаем всё, что хотим в /mnt
* Устанавливаем ubuntu
* Подключаем диск любым удобным способом.
* Меняем права на своего юзера (во FreeBSD единственный с номером 1001, в Ubuntu 1000) - chmod -R user:user (имя папки)
* Ставим sudo apt-get install convmv
* Перекодируем имена файлов из KOI8-R в UTF-8: convmv -f KOI8-R -t UTF8 --notest -r имя_папки
* Копируем все файлы куда хотим

У меня таким образом завелось куча программ и никакие настройки не потерялись. В частности Virtualbox с корпоративной вендой, в которой крутится Outlook. Ну конечно пришлось подправить имена сетевых интерфейсов.
