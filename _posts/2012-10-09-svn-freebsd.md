---
layout: post
title: Переходим на subversion для обновления FreeBSD
date: 2012-10-09 07:28:00 +0500
tags: [FreeBSD, ports, subversion]
excerpt: Заметка о переходе обновлений на систему контроля версий subversion для обновления ports и исходного кода мира и ядра во FreeBSD
redirect_from:
  - /blog/svn_freebsd/
  - /2012/09/subversion-freebsd.html
---
Всё никак не мог собраться перейти на subversion. Однако уже было анонсировано, что 28 февраля 2013 года поддержка cvs будет прекращена. Как оказалось, задействовать subversion не просто, а очень просто. Для начала понадобится subversion. Взять его можно в портах: `devel/subversion`. Если у вас очень старая версия портов, то `devel/subversion-freebsd`.

Перед переходом желательно очистить содержимое `/usr/src` и `/usr/ports` (за исключением `distfiles`, но если вам не жалко трафика, то можете удалить и его). Клонирование дерева портов осуществляем командой:

```bash
svn co svn://svn.FreeBSD.org/ports/head /usr/ports
```

Для скачивания исходных кодов мира и ядра нужно выполнить:

```bash
svn co svn://svn.freebsd.org/base/releng/9.1/ /usr/src
```

В данном случае скачивается ветка релиза 9.1 (releng/9.1/). Узнать какие существуют актуальные на данный момент ветки можно [на официальном сайте FreeBSD](http://www.freebsd.org/releng/). Например, на момент написания заметки имеются ветки stable/9 и releng/9.0. Все существующие ветки можно просмотреть через веб-интерфейс для svn по адресу <http://svnweb.freebsd.org>.

Если у вас возникают затруднения, например, при использовании прокси-сервера, то вы можете заменить протокол svn на http или https: `https://svn.freebsd.org/base/releng/9.1/`.

Скачивание производится с основного сервера. Адреса других зеркал можно найти [в хендбуке](http://www.freebsd.org/doc/en//books/handbook/mirrors-svn.html).

Дальнейшее обновление исходных кодов и портов можно осуществлять командой svn update, предварительно перейдя в папку /usr/src или /usr/ports, соответственно.

Если вы желаете перейти на более свежую ветку, то достаточно переключить репозиторий командой:

```bash
svn switch svn://svn.freebsd.org/base/releng/9.2/ /usr/src
```
